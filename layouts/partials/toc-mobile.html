{{/* Mobile TOC - Insert before first H2 */}} {{ if .TableOfContents }} {{ $toc := .TableOfContents }} {{ if $toc }}
<div
  class="toc-mobile lg:hidden my-6 p-4 bg-gray-50 dark:bg-warmgray-800 rounded-lg border border-gray-200 dark:border-warmgray-700"
>
  <details class="group">
    <summary class="flex items-center justify-between cursor-pointer list-none">
      <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center">
        <svg
          class="w-5 h-5 mr-2 text-primary-600 dark:text-primary-400"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 10h16M4 14h16M4 18h16"
          ></path>
        </svg>
        Mục lục
      </h3>
      <div class="transform transition-transform duration-200 group-open:rotate-180 text-gray-500 dark:text-gray-400">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
        </svg>
      </div>
    </summary>

    <div class="mt-4 pt-4 border-t border-gray-200 dark:border-warmgray-600">
      <nav class="toc-nav-mobile">{{ $toc | safeHTML }}</nav>
    </div>
  </details>
</div>
{{ end }} {{ end }}
